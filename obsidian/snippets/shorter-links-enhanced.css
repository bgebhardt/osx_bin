/*
Snippet that hides the URL text in edit mode and shows a symbol instead until you h1over over it.

CSS found in the Obsidian forum here.
[How to hide url link in edit mode until hovered on? - Share & showcase - Obsidian Forum](https://forum.obsidian.md/t/
how-to-hide-url-link-in-edit-mode-until-hovered-on/82827)
See video too: [Obsidian - Make your links look better in 5 minutes - YouTube](https://www.youtube.com/watch?v=UM7HH_sGRxs)

Enhancements in this

1. Added delay time and transition, so that the text wouldnâ€™t suddenly show or disappear
2. Supported the [[wikilink]] with Display text, as well
3. Added the Style Settings support, so that you can switch it on/off with command or in the setting:
4. Added another feature: with the Link Editing Mode, the click event of link would be blocked, so that we can easily edit the link text


*/

/* Moy Link Optimize.css */
/* ç›¸å…³å¸–å­ï¼šhttps://forum-zh.obsidian.md/t/topic/38000/6 */

/* ç‚¹å‡»é“¾æ¥çš„æ—¶å€™ä¸è·³è½¬ */
/* Style Settings å¼€å…³ */
/* @settings

name: Moy Link Mods
id: moy-link-mods
settings:
    - 
        id: link-editing-mode
        title: Link Editing Mode
        title.zh: é“¾æ¥ç¼–è¾‘æ¨¡å¼
        description: Cancel the link left mouse button click event
        description.zh: æ˜¯å¦å–æ¶ˆé“¾æ¥çš„å·¦é”®ç‚¹å‡»åŠŸèƒ½
        type: class-toggle
        default: true
        addCommand: true
    - 
        id: link-shorten
        title: Link Shorten
        title.zh: ç¼©çŸ­é“¾æ¥
        description: Shorten the link, unless mouse hover
        description.zh: å°†é“¾æ¥ç¼©çŸ­ä¸º emojiï¼Œé¼ æ ‡ç»è¿‡æ‰å®Œæ•´æ˜¾ç¤º
        type: class-toggle
        default: true
        addCommand: true

*/

.link-editing-mode .cm-link .cm-underline:not(:hover),
.link-editing-mode .cm-hmd-internal-link .cm-underline {
  pointer-events: none;
}

/* éšè—è¿‡é•¿çš„é“¾æ¥ç½‘å€éƒ¨åˆ† */
/* Src: https://forum.obsidian.md/t/how-to-hide-url-link-in-edit-mode-until-hovered-on/82827 */
/* Hide the URL text and show the symbol */
.link-shorten div.cm-line .cm-string.cm-url:not(.cm-formatting) {
    font-size: 0;
    transition: font-size .2s cubic-bezier(1,0,.9,1) !important; 
    transition-delay: 0.3s !important;
    &::before {
        content: 'ğŸ”—';
    }
}

/* Display a symbol after the URL */
.link-shorten div.cm-line .cm-string.cm-url:not(.cm-formatting)::before {
    content: 'ğŸ”—'; /* Replace with your desired symbol */
    font-size: 1rem; /* Adjust font size as needed */
    color: inherit; /* Inherit color from the parent element */
/*    font-size: var(--font-adaptive-normal);*/
}

/* Ensure the URL text is visible when the cursor is over it */
.link-shorten div.cm-line .cm-string.cm-url:not(.cm-formatting):hover {
    font-size: inherit;
    transition: font-size 0.2s !important;
/*  å»¶è¿Ÿä¸€ä¼šå„¿å†å‡ºç°   */
    transition-delay: 300ms !important; 
}

/* Hide the symbol when the cursor is over the URL */
.link-shorten div.cm-line .cm-string.cm-url:not(.cm-formatting):hover::before {
    /* content: ''; */
}


/* ä¿®æ”¹ wikilink æ ¼å¼çš„ */
/* Modified by Moy */
.link-shorten .cm-hmd-internal-link.cm-link-has-alias {
    font-size: 0;
    &:not(:hover){
        transition: font-size .2s cubic-bezier(1,0,.9,1) !important; 
        transition-delay: 0.3s !important;
    }
    &:hover {
        font-size: inherit;
        transition: font-size 0.2s !important;
        transition-delay: 200ms !important;
    }
}

/*.link-shorten .cm-hmd-internal-link.cm-link-has-alias:hover {
    font-size: inherit;
    transition: font-size 0.1s !important; 
}*/

.link-shorten .cm-hmd-internal-link.cm-link-has-alias:not(.cm-formatting)::before {
    content: 'ğŸ“œ'; /* Replace with your desired symbol ğŸ“„ */
    font-size: 1rem; /* Adjust font size as needed */
    color: inherit; /* Inherit color from the parent element */
/*    font-size: var(--font-adaptive-normal);*/
}